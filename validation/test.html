<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
<title>Kissy Validation</title>
<link rel="stylesheet" href="http://kissyteam.github.com/kissy/build/cssbase/base-min.css"/>
<script src="http://kissyteam.github.com/kissy/build/kissy.js"></script>
<script src="validation.js"></script>
<script src="validation_addon.js"></script>
</head>

<body>
<form class="fm" id="fm" method="get" action="">
		<p>
			<label for="cname">Name (required, at least 2 characters)</label>
			<input id="cname" name="name" />
		<p>
			<label for="cemail">E-Mail (required)</label>
			<input id="cemail" name="email" data-type="required:true:电子邮件必须填写！ email:true:错误的电子邮件地址！" />
		</p>
		<p>
			<label for="curl">URL</label>
			<input id="curl" name="url" value="" url="url" />
		</p>
		<p>
			<label for="cpswd">password</label>
			<input type="password" id="cpswd" name="pswd" value="" required="required" />
		</p>
		<p>
			<label for="cpswd2">repeat password</label>
<<<<<<< HEAD
			<input id="cpswd2" name="pswd2" value="" required="true" data-type="equalTo:#cpswd:请保证两个密码一致！" />
=======
			<input type="password" id="cpswd2" name="pswd2" value="" required="required" data-type="equalTo:#cpswd" />
>>>>>>> origin/master
		</p>
		<p>
			<label for="ccomment">Your comment (required)</label>
			<textarea id="ccomment" name="comment" data-type="required email" minlength="60" ></textarea>
		</p>
		<p>
			<input id="age1" name="age" data-type="required" value="1" type="radio" /><label for="age1">男</label>
			<input id="age2" name="age" data-type="required" value="2" type="radio" /><label for="age2">女</label>
		</p>
		<p>
			<input class="submit" type="submit" value="Submit"/> <input class="button" type="button" value="check comment" id="ec"/>
		</p>
</form>
<script>
    KISSY.ready(function(S) {
        var vali = new S.Validator("#fm",{
            rules: {
                cpswd2 : {
                    equalTo : "#cpswd"
                }
            },
            messages:{
                ccomment: {                
                    minlength:"浏览内容不能少于 {0} 字！",
                    email:"请输入正确的邮箱字地址！",
                    required:"留言不能为空！"
                }
            }
        });
        S.Event.on("#ec", "click",function(){
            vali.validate(S.DOM.get("#ccomment"));
        });
        vali.addRule("#cname","minlength","5","要求姓名至少为{0}个字");
        vali.addRule("#cname","maxlength","10","姓名最多允许{0}个字");
        vali.addRule("#cname","required","姓名为必填字段");

        vali.on("beforeValidate",function(e){
            //S.log(e.form);
        });
        vali.on("validate",function(e){
            //S.log(this.getInvalid());
        });
        vali.on("valid",function(e){
           //S.log(e.label)
        });
        vali.on("invalid",function(e){
           //S.DOM.insertAfter(e.label,S.DOM.parent(e.element));
           //S.log()
        });
    });
</script>
</body>
</html>
